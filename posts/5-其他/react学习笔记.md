# 前言
任何一门技术，都可以从两个维度进行了解与学习：应用维度跟设计维度。

<br/>

## 应用维度
应用维度主要从**问题、技术规范、最佳实践、市场应用趋势**这四个层面来解释。

**问题**：从技术的应用维度看，首先考虑的是要解决什么问题，这是技术产生的原因。问题这层，用来回答“干什么用”。

**技术规范**：接下来，技术被研发出来，人们怎么用它才能解决问题呢？这就要看技术规范，可以理解为技术使用说明书。技术规范，回答“怎么用”的问题，反映你对该技术使用方法的理解深度。

**最佳实践**：你把该技术运用到多种不同的场景时，会发现同样的使用方法，会有不同的效果，这是因为问题上下文不同了，该技术有不同的适应面。从而你可能踩了很多坑，知道了该技术的“脾性”，从中总结出最佳实践。这缘于在不同应用场景中，对技术表现差异的比较和把握。最佳实践回答“怎么能用好”的问题，反映你实践经验的丰富程度。

**市场应用趋势**：随着技术生态的发展，和应用问题的变迁，技术的应用场景和流行趋势会受到影响。这层回答“谁用，用在哪”的问题，反映你对技术应用领域的认识宽度。

<br/>

## 设计维度

应用维度是从外部看技术的应用。那么，从内部能看到技术的哪些层面呢？

**目标**：为了解决用户的问题，技术本身要达成什么目标。这层定义“做到什么”。

**实现原理**：为了达到设计目标，该技术采用了什么原理和机制。实现原理层回答“怎么做到”的问题。把实现原理弄懂，并且讲清楚，是技术人员的基本功。

**优劣局限**：每种技术实现，都有其局限性，在某些条件下能最大化的发挥效能，缺少了某些条件则暴露出其缺陷。优劣局限层回答“做得怎么样”的问题。对技术优劣局限的把握，更有利于应用时总结最佳实践，是分析各种“坑”的基础。

**演进趋势**：技术是在迭代改进和不断淘汰的。了解技术的前生后世，分清技术不变的本质，和变化的脉络，以及与其他技术的共生关系，能体现你对技术发展趋势的关注和思考。这层体现“未来如何”。

对于一项流行的技术，大部分人可以讲清实现原理和技术规范，也就是说能搞懂它的工作原理和使用方法，这是技术人员的基本功。再上面的技术局限性和最佳实践，只有经过深入的钻研，甚至读源码，以及多场景的实践之后，才能讲出深刻的认识。对于最上面的趋势层，需要具有相当程度的“T”型技术体系，对相关技术有横向和纵向的对比之后，才能总结得出来。

<br/>
<img src='https://github.com/jiangxia/FE-Knowledge/raw/master/images/81.png' width='800'>
<br/>

对于react，我们也尝试着用这个体系进行整理。

# react

## 应用维度

<br/>

### 问题

<br/>

### 技术规范
#### redux
redux资料：
1. [Redux 中文文档](http://cn.redux.js.org/)


#### 组件测试
jest
enzyme： https://airbnb.io/enzyme/
<br/>

### 最佳实践

####高阶组件

#### redux性能优化
reselect库

#### react性能优化
**如何检测react性能**
在Chrome中监测react性能：在URL后加?react_perf，比如：
localhost:3000/?react_perf

<br/>

**函数传递优化**
render中使用到的函数，最好都在constructor中使用bind进行绑定，这样可以提高性能。

<br/>






<br/>

#### 不可变数据
reducer是纯函数，我们在操作reducer时，要切记不能修改传入的state，但新手很可能就会误操作，这就需要immutable库。

使用 immutable，我们可以生成immutable对象，

当然，它的优势不只在于此，他还有其他优点：
1. 减少内存使用
2. 并发安全（不用担心状态被他人修改）
3. 降低项目复杂度
4. 便于比较复杂数据，定制 shouldComponentUpdate 方便
5. 时间旅行方便

immutable也有缺点：
1. 学习成本
2. 库的大小
3. 对现有项目入侵太严重

针对immutable库比较大的缺点，可以使用seamless-immutable作为替换方案。


immutable学习资料：
1. [IMMUTABLE 详解](https://www.cnblogs.com/3body/p/6224010.html)
2. [结合 Immutable.JS 使用 Redux](http://cn.redux.js.org/docs/recipes/UsingImmutableJS.html)

### 市场应用趋势


<br/>

## 设计维度

### 目标


<br/>

### 实现原理

#### this.setState

this.setState 背后有一个队列的机制，每次调用 setState ，都会塞到队列里面，通过队列可以高效更新 state ，setState 对状态的更新是异步的


#### applyMiddleWare

applyMiddleWare 的实现：
1. 拿到原生的store跟dispatch
2. 对dispatch做了一层扩展
3. 将原生store中的dispatch覆盖掉





<br/>


### 优劣局限

<br/>


### 演进趋势

react16新特性
1. 新的核心算法Fiber
2. Render 可以返回数据、字符串
3. 错误处理机制

新版本带来的优化和新功能
1. Portals 组件
2. 更好更快的服务端渲染
3. 体积更小，MIT协议