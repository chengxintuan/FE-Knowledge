# 前言

构建其实是工程化、自动化思想在前端开发中的体现，将一系列流程用代码去实现，让代码自动化地执行这一系列复杂的流程。构建为前端开发注入了更大的活力，解放了我们的生产力。

前端构建工具发展史及趋势如下~

<br/>

# Npm Scripts

Npm Scripts（NPM脚本）是一个任务执行者。

NPM是安装Node时附带的一个包管理器，Npm Script 则是 NPM 内置的一个功能，允许在 package.json 文件里面使用 scripts 字段定义任务：

```js
{
  "scripts":{
    "dev": "node dev.js",
    "pub": "node build.js"
  }
}
```

npm scripts 的优点是内置，无需安装其他依赖。

缺点是功能太简单，虽然提供了 pre 和 post 两个钩子，但不能方便的管理多个任务之间的依赖。

<br/>

# Gulp、Grunt

Gulp、Grunt 属于构建工具。现在用得少，主要问题是集成度不高，要写很多配置后才可以用，无法做到开箱即用。

可以将Gulp 看做是 Grunt 的加强版。相对于 Grunt ，Gulp 增加了文件监听、读写文件、流式处理的功能。

<br/>

# FIS 3

Fis3是一个来自百度的优秀国产构建工具。

Fis3的优点是，集成了各种Web开发所需的构建功能，配置简单，开箱即用

缺点是目前官方已经不再更新和维护，不支持最新版本的Node。

<br/>

# Webpack

Webpack 跟 Rollup 属于模块打包工具。

Webpack 用于解决当时现有工具未解决的的一个难题：**构建复杂的单页应用程序(SPA)**。

Webpack 是一个打包模块化的JavaScript的工具，在Webpack里一切文件皆模块，通过 loader 转换文件，通过 Plugin 注入钩子，最后输出由多个模块组合成的文件。Webpack 专注于构建模块化项目。

Webpack的优点是：

- 专注于处理模块化的项目，能做到开箱即用、一步到位；
- 可通过 Plugin 扩展，完整好用又不失灵活性；
- 使用场景不局限于Web开发；
- 社区庞大活跃，经常引入紧跟时代发展的新特性，能为大多数场景找到已有的开源扩展；
- 良好的开发体验；

Webpack的缺点是：只能用于采用模块化开发的项目。


<br/>

# Rollup

Rollup 诞生的原因是：利用 ES6 巧妙的模块设计，尽可能高效地构建出能够直接被其它 JavaScript 库引用的模块。

Rollup 在用于打包 JavaScript 库时比 Webpack 更有优势，因为其打包出来的代码更小、更快。但他的功能不够完善，在很多场景下都找不到现成的解决方案。

总结一句话：**对于应用使用 webpack，对于类库使用 Rollup**。

<br/>

# 为什么选择Webpack？

上面介绍的构建工具是按照他们的诞生时间排序的，他们是时代的产物，侧面反映出 Web 开发的发展趋势，如下所述：

- 在 Npm Scripts 和 Grunt 时代，Web 开发要做的事情变多，流程复杂，自动化思想被引入，用于简化流程；
- 在 Gulp 时代，流程处理思想的出现是为了简化文件转换的流程，例如将ES6转换为ES5；
- 在 Webpack 时代，由于单页应用的流行，网页的功能和实现代码变的复杂、庞大，Web开发向模块化改进。

这些构建工具都有各自的定位和专注点，它们之间既可以单独完成任务，也可以互相搭配起来弥补各自的不足。在了解这些常见的构建工具后，我们需要根据自己的需求去判断应该如何进行选择和搭配它们才能更好的满足自己的需求。

经过多年的发展，Webpack 已经成为构建工具中的首选，这是因为：

- 大多数团队在开发新项目时会采用紧跟时代的技术，这些技术几乎都会采用“模块化+新语言+新框架”，Webpack可以为这些新项目提供一站式的解决方案；
- Webpack有良好的生态和维护团队，能提供良好的开发体验并保证质量；
- Webpack 被全世界大量的Web开发者使用和验证，能找到各个层面所需要的教程和经验分享。

<br/>

# Gulp与Webpack的区别

两者的共同点：文件合并与压缩（css,js），sass/less预编译，启动server，版本控制。

两者的不同点：

- gulp严格上讲，模块化不是他强调的东西，他旨在规范前端开发流程。
- webpack 强调模块化开发，而那些文件压缩合并、预处理等功能，不过是他附带的功能。
